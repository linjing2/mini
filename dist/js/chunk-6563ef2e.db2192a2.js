(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6563ef2e"],{8062:function(t,n,s){"use strict";var e=s("95b1"),i=s.n(e);i.a},"8c80":function(t,n,s){"use strict";s.r(n);var e=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"mark-page"},[s("song-list",{attrs:{list:0===t.markList.length?[]:t.markList[t.markListIndex].list,isShowMarkImg:!0}})],1)},i=[],o=s("5530"),r=s("2f62"),a=s("a986"),c={name:"mark-page",data:function(){return{}},components:{SongList:a["a"]},computed:Object(o["a"])({},Object(r["b"])(["markList","markListIndex"])),methods:{}},l=c,g=(s("c7f4"),s("2877")),u=Object(g["a"])(l,e,i,!1,null,null,null);n["default"]=u.exports},"95b1":function(t,n,s){},a986:function(t,n,s){"use strict";var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"song-list"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],staticClass:"song-list-backtop",on:{click:t.backTop}},[e("img",{attrs:{src:s("e6d9"),width:"30px"}})]),t._m(0),e("div",{ref:"songListBoxDOM",staticClass:"song-list-box",on:{scroll:t.scroll}},[t._l(t.list,(function(n,s){return e("div",{key:n.songID,staticClass:"song-list-item",style:(0===t.currentList.length?"":t.currentList[t.currentListIndex].songID===n.songID?t.playingSongStyle:"")||(t.selectSongIndex===s?t.selectSongStyle:""),on:{contextmenu:function(e){return t.mouseRightClick(e,n,s)}}},[t.isShowMarkImg?e("div",{staticClass:"mark-img"},[e("img",{attrs:{src:t.setMarkImgUrl(n),width:"18px"},on:{click:function(n){return t.removeMarkSong(s)}}})]):e("div",{staticClass:"like-img"},[e("img",{attrs:{src:t.setLikeImgUrl(n),width:"18px"},on:{click:function(s){return t.likeSong(n)}}})]),e("div",{staticClass:"song-list-song-name",on:{click:function(e){return t.playThisSong(n,s)}}},[t._v(" "+t._s(n.songName)+" ")]),e("div",{staticClass:"song-list-singer-name",on:{click:function(e){return t.playThisSong(n,s)}}},[e("span",{on:{click:function(s){return s.stopPropagation(),t.showSinger(n)}}},[t._v(t._s(t.showSingerName(n)))])]),e("div",{staticClass:"song-list-album-name",on:{click:function(e){return t.playThisSong(n,s)}}},[t._v(" "+t._s(n.albumName)+" ")])])})),0!==t.list.length&&!0===t.isShowLoadMore?e("div",{staticClass:"load-more",on:{click:t.loadMore}},[t._v(" "+t._s(t.loadMoreText)+" ")]):t._e()],2)])},i=[function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"song-list-title"},[s("div"),s("div",[t._v("歌名")]),s("div",[t._v("歌手")]),s("div",[t._v("专辑")])])}],o=(s("4160"),s("a15b"),s("b0c0"),s("159b"),s("96cf"),s("1da1")),r=s("5530"),a=s("2f62"),c=s("fe48"),l={name:"song-list",props:{list:{type:Array,default:function(){return[]}},isShowLoadMore:{type:Boolean,default:!1},loadMoreText:{type:String,default:"加载更多"},isShowMarkImg:{type:Boolean,default:!1},isKeepScrollPositon:{type:Boolean,default:!0}},data:function(){return{likeImgUrl:s("c8e1"),likedImgUrl:s("fbd3"),markImgUrl:s("c384"),markedImgUrl:s("c1b2"),scrollerPosition:0,isShowBackTop:!1,playingSongStyle:{"background-color":"var(--highlight-color)","border-radius":"10px"},selectSongIndex:null,selectSongStyle:{"border-radius":"10px","background-color":"rgba(197, 181, 240, 0.5)"}}},computed:Object(r["a"])(Object(r["a"])({},Object(a["b"])(["currentList","currentListIndex","likedList","markList"])),{},{listId:function(){if(this.list.length>0)return this.list[0].songID}}),watch:{listId:function(){this.backTop()}},mounted:function(){var t=this;this.$EventBus.$on("popBoxBlur",(function(){t.selectSongIndex=null})),this.$EventBus.$on("markSong",(function(){t.$store.commit("showDialog","add-mark-song")}))},activated:function(){!0===this.isKeepScrollPositon&&(this.$refs.songListBoxDOM.scrollTop=this.scrollerPosition)},methods:{playThisSong:function(t,n){var s={index:n,list:this.list};this.$store.commit("sendCurrentIndex",s),this.$store.dispatch("playCurrentSong")},showSinger:function(t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var e,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(console.log(t),!(t.singer.length>1)){s.next=6;break}n.$store.commit("setChooseSingerList",t.singer),n.$store.commit("showDialog","choose-singer"),s.next=22;break;case 6:return e="",s.prev=7,s.next=10,Object(c["l"])({singerMid:t.singer[0].ID});case 10:i=s.sent,e=i.desc,s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](7),console.log(s.t0),e="";case 18:o={singerName:t.singer[0].name,singerMid:t.singer[0].ID,singerPic:"http://y.gtimg.cn/music/photo_new/T001R150x150M000"+t.singer[0].ID+".jpg",singerDescription:e},console.log(o),n.$store.commit("setSingerInfo",o),n.$router.push({path:"SingerPage"});case 22:case"end":return s.stop()}}),s,null,[[7,14]])})))()},likeSong:function(t){this.$store.commit("sendLikedSong",t)},removeMarkSong:function(t){this.$store.commit("removeMarkSong",t)},setLikeImgUrl:function(t){var n=!1;return this.likedList.forEach((function(s){s.songID===t.songID&&(n=!0)})),n?this.likedImgUrl:this.likeImgUrl},setMarkImgUrl:function(t){var n=!1;return this.markList.forEach((function(s){s.list.forEach((function(s){s.songmid===t.songmid&&(n=!0)}))})),n?this.markedImgUrl:this.markImgUrl},showSingerName:function(t){var n=[];t.singer.forEach((function(t){n.push(t.name)}));var s=n.join("/");return s},backTop:function(){var t=this,n=setInterval((function(){t.$refs.songListBoxDOM.scrollTop-=100,t.$refs.songListBoxDOM.scrollTop<=0&&clearInterval(n)}),10)},scroll:function(t){this.scrollerPosition=t.target.scrollTop,this.scrollerPosition>600?this.isShowBackTop=!0:this.isShowBackTop=!1},mouseRightClick:function(t,n,s){this.selectSongIndex=s,this.$store.commit("sendSelectedSong",n),this.$popbox.showPopBox({positionX:t.pageX,positionY:t.pageY})},loadMore:function(){this.$emit("loadMore")}}},g=l,u=(s("8062"),s("2877")),m=Object(u["a"])(g,e,i,!1,null,null,null);n["a"]=m.exports},c7f4:function(t,n,s){"use strict";var e=s("fbdd"),i=s.n(e);i.a},e6d9:function(t,n,s){t.exports=s.p+"img/backtop.2bd771af.svg"},fbdd:function(t,n,s){}}]);
//# sourceMappingURL=chunk-6563ef2e.db2192a2.js.map