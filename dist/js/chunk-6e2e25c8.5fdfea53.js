(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e2e25c8"],{"11dc":function(e,t,s){"use strict";var i=s("5acc"),n=s.n(i);n.a},"2d5c":function(e,t,s){},3856:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isLoading?s("div",{staticClass:"loading-page",class:{blur:e.isBlur}},[e._m(0)]):e._e()},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"loading-box"},[s("div",{staticClass:"loading-ring-out"},[s("div",{staticClass:"loading-ring-inner"})]),s("div",{staticClass:"loading-box-1"},[s("div",{staticClass:"loading-dot-1"})]),s("div",{staticClass:"loading-box-2"},[s("div",{staticClass:"loading-dot-2"})]),s("div",{staticClass:"loading-box-3"},[s("div",{staticClass:"loading-dot-3"})])])}],o={name:"loading",props:{isLoading:{type:Boolean,default:!1},isBlur:{type:Boolean,default:!1}}},a=o,r=(s("d770"),s("2877")),c=Object(r["a"])(a,i,n,!1,null,null,null);t["a"]=c.exports},"5acc":function(e,t,s){},"7d70":function(e,t,s){},8062:function(e,t,s){"use strict";var i=s("95b1"),n=s.n(i);n.a},"95b1":function(e,t,s){},"979d":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));s("4160"),s("159b");function i(e){var t=[];return e.forEach((function(e){var s={songID:e.songMid,songName:e.songName,singer:[],albumName:e.album.albumName,albumID:e.album.albumMid,albumImgUrl:"https://y.gtimg.cn/music/photo_new/T002R300x300M000".concat(e.album.albumMid,".jpg?max_age=2592000")};e.singerList.forEach((function(e){s.singer.push({name:e.singerName,ID:e.singerMid})})),t.push(s)})),t}},a986:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"song-list"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowBackTop,expression:"isShowBackTop"}],staticClass:"song-list-backtop",on:{click:e.backTop}},[i("img",{attrs:{src:s("e6d9"),width:"30px"}})]),e._m(0),i("div",{ref:"songListBoxDOM",staticClass:"song-list-box",on:{scroll:e.scroll}},[e._l(e.list,(function(t,s){return i("div",{key:t.songID,staticClass:"song-list-item",style:(0===e.currentList.length?"":e.currentList[e.currentListIndex].songID===t.songID?e.playingSongStyle:"")||(e.selectSongIndex===s?e.selectSongStyle:""),on:{contextmenu:function(i){return e.mouseRightClick(i,t,s)}}},[e.isShowMarkImg?i("div",{staticClass:"mark-img"},[i("img",{attrs:{src:e.setMarkImgUrl(t),width:"18px"},on:{click:function(t){return e.removeMarkSong(s)}}})]):i("div",{staticClass:"like-img"},[i("img",{attrs:{src:e.setLikeImgUrl(t),width:"18px"},on:{click:function(s){return e.likeSong(t)}}})]),i("div",{staticClass:"song-list-song-name",on:{click:function(i){return e.playThisSong(t,s)}}},[e._v(" "+e._s(t.songName)+" ")]),i("div",{staticClass:"song-list-singer-name",on:{click:function(i){return e.playThisSong(t,s)}}},[i("span",{on:{click:function(s){return s.stopPropagation(),e.showSinger(t)}}},[e._v(e._s(e.showSingerName(t)))])]),i("div",{staticClass:"song-list-album-name",on:{click:function(i){return e.playThisSong(t,s)}}},[e._v(" "+e._s(t.albumName)+" ")])])})),0!==e.list.length&&!0===e.isShowLoadMore?i("div",{staticClass:"load-more",on:{click:e.loadMore}},[e._v(" "+e._s(e.loadMoreText)+" ")]):e._e()],2)])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"song-list-title"},[s("div"),s("div",[e._v("歌名")]),s("div",[e._v("歌手")]),s("div",[e._v("专辑")])])}],o=(s("4160"),s("a15b"),s("b0c0"),s("159b"),s("96cf"),s("1da1")),a=s("5530"),r=s("2f62"),c=s("fe48"),l={name:"song-list",props:{list:{type:Array,default:function(){return[]}},isShowLoadMore:{type:Boolean,default:!1},loadMoreText:{type:String,default:"加载更多"},isShowMarkImg:{type:Boolean,default:!1},isKeepScrollPositon:{type:Boolean,default:!0}},data:function(){return{likeImgUrl:s("c8e1"),likedImgUrl:s("fbd3"),markImgUrl:s("c384"),markedImgUrl:s("c1b2"),scrollerPosition:0,isShowBackTop:!1,playingSongStyle:{"background-color":"var(--highlight-color)","border-radius":"10px"},selectSongIndex:null,selectSongStyle:{"border-radius":"10px","background-color":"rgba(197, 181, 240, 0.5)"}}},computed:Object(a["a"])(Object(a["a"])({},Object(r["b"])(["currentList","currentListIndex","likedList","markList"])),{},{listId:function(){if(this.list.length>0)return this.list[0].songID}}),watch:{listId:function(){this.backTop()}},mounted:function(){var e=this;this.$EventBus.$on("popBoxBlur",(function(){e.selectSongIndex=null})),this.$EventBus.$on("markSong",(function(){e.$store.commit("showDialog","add-mark-song")}))},activated:function(){!0===this.isKeepScrollPositon&&(this.$refs.songListBoxDOM.scrollTop=this.scrollerPosition)},methods:{playThisSong:function(e,t){var s={index:t,list:this.list};this.$store.commit("sendCurrentIndex",s),this.$store.dispatch("playCurrentSong")},showSinger:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function s(){var i,n,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(console.log(e),!(e.singer.length>1)){s.next=6;break}t.$store.commit("setChooseSingerList",e.singer),t.$store.commit("showDialog","choose-singer"),s.next=22;break;case 6:return i="",s.prev=7,s.next=10,Object(c["l"])({singerMid:e.singer[0].ID});case 10:n=s.sent,i=n.desc,s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](7),console.log(s.t0),i="";case 18:o={singerName:e.singer[0].name,singerMid:e.singer[0].ID,singerPic:"http://y.gtimg.cn/music/photo_new/T001R150x150M000"+e.singer[0].ID+".jpg",singerDescription:i},console.log(o),t.$store.commit("setSingerInfo",o),t.$router.push({path:"SingerPage"});case 22:case"end":return s.stop()}}),s,null,[[7,14]])})))()},likeSong:function(e){this.$store.commit("sendLikedSong",e)},removeMarkSong:function(e){this.$store.commit("removeMarkSong",e)},setLikeImgUrl:function(e){var t=!1;return this.likedList.forEach((function(s){s.songID===e.songID&&(t=!0)})),t?this.likedImgUrl:this.likeImgUrl},setMarkImgUrl:function(e){var t=!1;return this.markList.forEach((function(s){s.list.forEach((function(s){s.songmid===e.songmid&&(t=!0)}))})),t?this.markedImgUrl:this.markImgUrl},showSingerName:function(e){var t=[];e.singer.forEach((function(e){t.push(e.name)}));var s=t.join("/");return s},backTop:function(){var e=this,t=setInterval((function(){e.$refs.songListBoxDOM.scrollTop-=100,e.$refs.songListBoxDOM.scrollTop<=0&&clearInterval(t)}),10)},scroll:function(e){this.scrollerPosition=e.target.scrollTop,this.scrollerPosition>600?this.isShowBackTop=!0:this.isShowBackTop=!1},mouseRightClick:function(e,t,s){this.selectSongIndex=s,this.$store.commit("sendSelectedSong",t),this.$popbox.showPopBox({positionX:e.pageX,positionY:e.pageY})},loadMore:function(){this.$emit("loadMore")}}},g=l,u=(s("8062"),s("2877")),d=Object(u["a"])(g,i,n,!1,null,null,null);t["a"]=d.exports},d770:function(e,t,s){"use strict";var i=s("2d5c"),n=s.n(i);n.a},e687:function(e,t,s){"use strict";var i,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"grid-list"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowBackTop,expression:"isShowBackTop"}],staticClass:"grid-list-back-top",on:{click:e.backTop}},[i("img",{attrs:{src:s("e6d9"),width:"30px"}})]),i("div",{ref:"gridListScrollDOM",staticClass:"grid-list-scroll",on:{scroll:e.scroll}},[i("div",{staticClass:"grid-item-box"},e._l(e.list,(function(t){return i("div",{key:t.id,staticClass:"grid-item",on:{click:function(s){return e.userClick(t)}}},[i("img",{attrs:{src:t.imgUrl}}),i("div",{staticClass:"grid-item-name"},[e._v(e._s(t.text))])])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowLoadMore,expression:"isShowLoadMore"}],staticClass:"grid-load-more",on:{click:e.loadMore}},[e._v(" "+e._s(e.loadMoreText)+" ")])])])},o=[],a=s("ade3"),r=(i={name:"grid-list",props:{list:{type:Array,default:function(){return[]}},loadMoreText:{type:String,default:function(){return"加载更多"}},isShowLoadMore:{type:Boolean,default:!0},isKeepScrollPositon:{type:Boolean,default:!0}},data:function(){return{scrollerPosition:0}},computed:{listId:function(){if(this.list.length>0)return this.list[0].id}},watch:{listId:function(){this.backTop()}}},Object(a["a"])(i,"data",(function(){return{isShowBackTop:!1,scrollerPosition:0}})),Object(a["a"])(i,"activated",(function(){!0===this.isKeepScrollPositon&&(this.$refs.gridListScrollDOM.scrollTop=this.scrollerPosition)})),Object(a["a"])(i,"methods",{userClick:function(e){this.$emit("clickItem",e)},loadMore:function(){this.$emit("loadMore")},scroll:function(e){this.scrollerPosition=e.target.scrollTop,this.scrollerPosition>600?this.isShowBackTop=!0:this.isShowBackTop=!1},backTop:function(){var e=this,t=setInterval((function(){e.$refs.gridListScrollDOM.scrollTop-=100,e.$refs.gridListScrollDOM.scrollTop<=0&&clearInterval(t)}),10)}}),i),c=r,l=(s("11dc"),s("2877")),g=Object(l["a"])(c,n,o,!1,null,null,null);t["a"]=g.exports},e6d9:function(e,t,s){e.exports=s.p+"img/backtop.2bd771af.svg"},f5d9:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"singer-page"},[s("div",{staticClass:"singer-header"},[s("div",{staticClass:"singer-img"},[s("img",{attrs:{src:e.singerInfo.singerPic}})]),s("div",{staticClass:"singer-introduction"},[s("div",{staticClass:"singer-page-singer-name"},[e._v(e._s(e.singerInfo.singerName))]),s("div",{staticClass:"singer-description"},[e._v(e._s(e.singerInfo.singerDescription))])])]),s("div",{staticClass:"singer-tab-box"},[s("div",{staticClass:"singer-tab",class:{active:"单曲"===e.activatedTab},on:{click:e.getSong}},[e._v(" 单曲 ")]),s("div",{staticClass:"singer-tab",class:{active:"专辑"===e.activatedTab},on:{click:e.getAlbumList}},[e._v(" 专辑 ")]),s("div",{staticClass:"singer-tab",class:{active:"MV"===e.activatedTab},on:{click:e.getMV}},[e._v(" MV ")])]),s("div",{staticClass:"singer-list-box"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSingerSong,expression:"isShowSingerSong"}],staticClass:"singer-list-item"},[s("loading",{attrs:{isLoading:e.isSongLoading}}),s("song-list",{attrs:{list:e.songList,isShowLoadMore:!0,loadMoreText:e.songLoadMoreText,isKeepScrollPositon:!1},on:{loadMore:e.loadMoreSong}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSingerAlbum,expression:"isShowSingerAlbum"}],staticClass:"singer-list-item"},[s("loading",{attrs:{isLoading:e.isAlbumLoading}}),s("grid-list",{attrs:{list:e.albumList,loadMoreText:e.albumLoadMoreText},on:{loadMore:e.loadMoreAlbum,clickItem:e.getAlbumInfo}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowSingerMV,expression:"isShowSingerMV"}],staticClass:"singer-list-item"},[s("loading",{attrs:{isLoading:e.isMvLoading}}),s("div",{staticClass:"singer-mv-box"},e._l(e.MVList,(function(t){return s("div",{key:t.mvId,staticClass:"singer-mv-item",on:{click:function(s){return e.getMVInfo(t)}}},[s("img",{attrs:{src:t.piv}}),s("div",{staticClass:"singer-mv-name"},[e._v(e._s(t.mvName))])])})),0)],1)])])},n=[],o=(s("4160"),s("159b"),s("2909")),a=(s("96cf"),s("1da1")),r=s("5530"),c=s("2f62"),l=s("a986"),g=s("e687"),u=s("3856"),d=s("fe48"),m=s("979d"),h={name:"singer-page",data:function(){return{isShowSingerSong:!0,isShowSingerAlbum:!1,isShowSingerMV:!1,songList:[],songListPage:0,songLoadMoreText:"加载更多",albumList:[],albumListPage:0,albumLoadMoreText:"加载更多",MVList:[],MVListPage:0,MVLoadMoreText:"加载更多",activatedTab:"单曲",isSongLoading:!1,isAlbumLoading:!1,isMvLoading:!1}},components:{SongList:l["a"],GridList:g["a"],Loading:u["a"]},computed:Object(r["a"])({},Object(c["b"])(["singerInfo"])),watch:{singerInfo:function(){this.getSong()}},mounted:function(){this.getSong()},methods:{getSong:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activatedTab="单曲",e.isShowSingerAlbum=!1,e.isShowSingerMV=!1,e.isShowSingerSong=!0,e.songListPage=0,e.songLoadMoreText="加载更多",e.isSongLoading=!0,t.prev=7,t.next=10,Object(d["m"])({page:0,singerMid:e.singerInfo.singerMid});case 10:s=t.sent,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](7),e.$message.showMessage({type:"error",message:"请求数据出错："+t.t0}),e.isSongLoading=!1;case 17:console.log("songListData",s),e.isSongLoading=!1,e.songList=Object(m["a"])(s.list);case 20:case"end":return t.stop()}}),t,null,[[7,13]])})))()},getAlbumList:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activatedTab="专辑",e.isShowSingerSong=!1,e.isShowSingerMV=!1,e.isShowSingerAlbum=!0,e.albumListPage=0,e.albumLoadMoreText="加载更多",e.isAlbumLoading=!0,t.prev=7,t.next=10,Object(d["k"])({page:0,singerMid:e.singerInfo.singerMid});case 10:s=t.sent,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](7),e.$message.showMessage({type:"error",message:"请求数据出错："+t.t0}),e.isAlbumLoading=!1;case 17:console.log("albumListData",s),e.isAlbumLoading=!1,i=[],s.list.forEach((function(e){var t={id:e.albumMid,imgUrl:"https://y.gtimg.cn/music/photo_new/T002R300x300M000"+e.albumMid+".jpg?max_age=2592000",text:e.albumName};i.push(t)})),e.albumList=i;case 22:case"end":return t.stop()}}),t,null,[[7,13]])})))()},getAlbumInfo:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var i,n,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.isAlbumLoading=!0,s.prev=1,s.next=4,Object(d["a"])({albumMid:e.id});case 4:i=s.sent,s.next=11;break;case 7:s.prev=7,s.t0=s["catch"](1),t.$message.showMessage({type:"error",message:"请求数据出错："+s.t0}),t.isAlbumLoading=!1;case 11:console.log("albumInfoData",i),t.isAlbumLoading=!1,n=Object(m["a"])(i.musicList),o={albumID:i.album.albumMid,albumName:i.album.albumName,albumImgUrl:"https://y.gtimg.cn/music/photo_new/T002R300x300M000"+i.album.albumMid+".jpg?max_age=2592000",musicList:n},t.$store.commit("setAlbumInfo",o),t.$router.push({path:"AlbumPage"});case 17:case"end":return s.stop()}}),s,null,[[1,7]])})))()},getMV:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activatedTab="MV",e.isShowSingerSong=!1,e.isShowSingerAlbum=!1,e.isShowSingerMV=!0,e.isMvLoading=!0,t.prev=5,t.next=8,Object(d["n"])({singerMid:e.singerInfo.singerMid,page:0});case 8:s=t.sent,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](5),e.$message.showMessage({type:"error",message:"请求数据出错："+t.t0}),e.isMvLoading=!1;case 15:console.log("MVListData",s),e.isMvLoading=!1,e.MVList=s.list;case 18:case"end":return t.stop()}}),t,null,[[5,11]])})))()},getMVInfo:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var i,n,o,a,r,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return t.isMvLoading=!0,s.prev=1,s.next=4,Object(d["f"])({mvId:e.mvId});case 4:i=s.sent,s.next=11;break;case 7:s.prev=7,s.t0=s["catch"](1),t.$message.showMessage({type:"error",message:"请求数据出错："+s.t0}),t.isMvLoading=!1;case 11:return console.log("MVInfoData",i),t.isMvLoading=!1,s.next=15,Object(d["e"])({fileid:i.fileid});case 15:n=s.sent,o=n.mvSourceUrl,a=n.cn,r=n.vkey,c=o+a+"?vkey="+r,console.log(c),t.$store.commit("setMVUrl",c),t.$store.commit("showDialog","mv-player");case 23:case"end":return s.stop()}}),s,null,[[1,7]])})))()},loadMoreSong:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("已经到底啦o((>ω< ))o"==e.songLoadMoreText){t.next=17;break}return e.songListPage+=1,e.isSongLoading=!0,t.prev=3,t.next=6,Object(d["m"])({page:e.songListPage,singerMid:e.singerInfo.singerMid});case 6:i=t.sent,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](3),e.$message.showMessage({type:"error",message:"请求数据出错："+t.t0}),e.isSongLoading=!1;case 13:console.log("songListData",i),e.isSongLoading=!1,i.list.length<30&&(e.songLoadMoreText="已经到底啦o((>ω< ))o"),(s=e.songList).push.apply(s,Object(o["a"])(Object(m["a"])(i.list)));case 17:case"end":return t.stop()}}),t,null,[[3,9]])})))()},loadMoreAlbum:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("已经到底啦o((>ω< ))o"==e.albumLoadMoreText){t.next=17;break}return e.albumListPage+=1,e.isAlbumLoading=!0,t.prev=3,t.next=6,Object(d["k"])({page:e.albumListPage,singerMid:e.singerInfo.singerMid});case 6:s=t.sent,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](3),e.$message.showMessage({type:"error",message:"请求数据出错："+t.t0}),e.isAlbumLoading=!1;case 13:console.log("albumListData",s),e.isAlbumLoading=!1,s.list.length<30&&(e.albumLoadMoreText="已经到底啦o((>ω< ))o"),s.list.forEach((function(t){var s={id:t.albumMid,imgUrl:"https://y.gtimg.cn/music/photo_new/T002R300x300M000"+t.albumMid+".jpg?max_age=2592000",text:t.albumName};e.albumList.push(s)}));case 17:case"end":return t.stop()}}),t,null,[[3,9]])})))()}}},v=h,p=(s("f617"),s("2877")),f=Object(p["a"])(v,i,n,!1,null,null,null);t["default"]=f.exports},f617:function(e,t,s){"use strict";var i=s("7d70"),n=s.n(i);n.a}}]);
//# sourceMappingURL=chunk-6e2e25c8.5fdfea53.js.map