(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e01bc84"],{"1d39":function(t,s,n){"use strict";var i=n("2762"),e=n.n(i);e.a},2762:function(t,s,n){},"425f":function(t,s,n){"use strict";n.r(s);var i=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"album-page"},[n("div",{staticClass:"album-header"},[n("div",{staticClass:"album-page-album-img"},[n("img",{attrs:{src:t.albumInfo.albumImgUrl}})]),n("div",{staticClass:"album-page-album-name"},[t._v(t._s(t.albumInfo.albumName))])]),n("div",{staticClass:"album-list-box"},[n("song-list",{attrs:{list:t.albumInfo.musicList}})],1)])},e=[],o=n("5530"),r=n("2f62"),a=n("a986"),l={name:"album-page",components:{SongList:a["a"]},computed:Object(o["a"])({},Object(r["b"])(["albumInfo"]))},c=l,u=(n("1d39"),n("2877")),g=Object(u["a"])(c,i,e,!1,null,null,null);s["default"]=g.exports},8062:function(t,s,n){"use strict";var i=n("95b1"),e=n.n(i);e.a},"95b1":function(t,s,n){},a986:function(t,s,n){"use strict";var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"song-list"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBackTop,expression:"isShowBackTop"}],staticClass:"song-list-backtop",on:{click:t.backTop}},[i("img",{attrs:{src:n("e6d9"),width:"30px"}})]),t._m(0),i("div",{ref:"songListBoxDOM",staticClass:"song-list-box",on:{scroll:t.scroll}},[t._l(t.list,(function(s,n){return i("div",{key:s.songID,staticClass:"song-list-item",style:(0===t.currentList.length?"":t.currentList[t.currentListIndex].songID===s.songID?t.playingSongStyle:"")||(t.selectSongIndex===n?t.selectSongStyle:""),on:{contextmenu:function(i){return t.mouseRightClick(i,s,n)}}},[t.isShowMarkImg?i("div",{staticClass:"mark-img"},[i("img",{attrs:{src:t.setMarkImgUrl(s),width:"18px"},on:{click:function(s){return t.removeMarkSong(n)}}})]):i("div",{staticClass:"like-img"},[i("img",{attrs:{src:t.setLikeImgUrl(s),width:"18px"},on:{click:function(n){return t.likeSong(s)}}})]),i("div",{staticClass:"song-list-song-name",on:{click:function(i){return t.playThisSong(s,n)}}},[t._v(" "+t._s(s.songName)+" ")]),i("div",{staticClass:"song-list-singer-name",on:{click:function(i){return t.playThisSong(s,n)}}},[i("span",{on:{click:function(n){return n.stopPropagation(),t.showSinger(s)}}},[t._v(t._s(t.showSingerName(s)))])]),i("div",{staticClass:"song-list-album-name",on:{click:function(i){return t.playThisSong(s,n)}}},[t._v(" "+t._s(s.albumName)+" ")])])})),0!==t.list.length&&!0===t.isShowLoadMore?i("div",{staticClass:"load-more",on:{click:t.loadMore}},[t._v(" "+t._s(t.loadMoreText)+" ")]):t._e()],2)])},e=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"song-list-title"},[n("div"),n("div",[t._v("歌名")]),n("div",[t._v("歌手")]),n("div",[t._v("专辑")])])}],o=(n("4160"),n("a15b"),n("b0c0"),n("159b"),n("96cf"),n("1da1")),r=n("5530"),a=n("2f62"),l=n("fe48"),c={name:"song-list",props:{list:{type:Array,default:function(){return[]}},isShowLoadMore:{type:Boolean,default:!1},loadMoreText:{type:String,default:"加载更多"},isShowMarkImg:{type:Boolean,default:!1},isKeepScrollPositon:{type:Boolean,default:!0}},data:function(){return{likeImgUrl:n("c8e1"),likedImgUrl:n("fbd3"),markImgUrl:n("c384"),markedImgUrl:n("c1b2"),scrollerPosition:0,isShowBackTop:!1,playingSongStyle:{"background-color":"var(--highlight-color)","border-radius":"10px"},selectSongIndex:null,selectSongStyle:{"border-radius":"10px","background-color":"rgba(197, 181, 240, 0.5)"}}},computed:Object(r["a"])(Object(r["a"])({},Object(a["b"])(["currentList","currentListIndex","likedList","markList"])),{},{listId:function(){if(this.list.length>0)return this.list[0].songID}}),watch:{listId:function(){this.backTop()}},mounted:function(){var t=this;this.$EventBus.$on("popBoxBlur",(function(){t.selectSongIndex=null})),this.$EventBus.$on("markSong",(function(){t.$store.commit("showDialog","add-mark-song")}))},activated:function(){!0===this.isKeepScrollPositon&&(this.$refs.songListBoxDOM.scrollTop=this.scrollerPosition)},methods:{playThisSong:function(t,s){var n={index:s,list:this.list};this.$store.commit("sendCurrentIndex",n),this.$store.dispatch("playCurrentSong")},showSinger:function(t){var s=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i,e,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(t),!(t.singer.length>1)){n.next=6;break}s.$store.commit("setChooseSingerList",t.singer),s.$store.commit("showDialog","choose-singer"),n.next=22;break;case 6:return i="",n.prev=7,n.next=10,Object(l["l"])({singerMid:t.singer[0].ID});case 10:e=n.sent,i=e.desc,n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](7),console.log(n.t0),i="";case 18:o={singerName:t.singer[0].name,singerMid:t.singer[0].ID,singerPic:"http://y.gtimg.cn/music/photo_new/T001R150x150M000"+t.singer[0].ID+".jpg",singerDescription:i},console.log(o),s.$store.commit("setSingerInfo",o),s.$router.push({path:"SingerPage"});case 22:case"end":return n.stop()}}),n,null,[[7,14]])})))()},likeSong:function(t){this.$store.commit("sendLikedSong",t)},removeMarkSong:function(t){this.$store.commit("removeMarkSong",t)},setLikeImgUrl:function(t){var s=!1;return this.likedList.forEach((function(n){n.songID===t.songID&&(s=!0)})),s?this.likedImgUrl:this.likeImgUrl},setMarkImgUrl:function(t){var s=!1;return this.markList.forEach((function(n){n.list.forEach((function(n){n.songmid===t.songmid&&(s=!0)}))})),s?this.markedImgUrl:this.markImgUrl},showSingerName:function(t){var s=[];t.singer.forEach((function(t){s.push(t.name)}));var n=s.join("/");return n},backTop:function(){var t=this,s=setInterval((function(){t.$refs.songListBoxDOM.scrollTop-=100,t.$refs.songListBoxDOM.scrollTop<=0&&clearInterval(s)}),10)},scroll:function(t){this.scrollerPosition=t.target.scrollTop,this.scrollerPosition>600?this.isShowBackTop=!0:this.isShowBackTop=!1},mouseRightClick:function(t,s,n){this.selectSongIndex=n,this.$store.commit("sendSelectedSong",s),this.$popbox.showPopBox({positionX:t.pageX,positionY:t.pageY})},loadMore:function(){this.$emit("loadMore")}}},u=c,g=(n("8062"),n("2877")),m=Object(g["a"])(u,i,e,!1,null,null,null);s["a"]=m.exports},e6d9:function(t,s,n){t.exports=n.p+"img/backtop.2bd771af.svg"}}]);
//# sourceMappingURL=chunk-4e01bc84.db00d3a6.js.map